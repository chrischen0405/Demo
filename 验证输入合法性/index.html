<!DOCTYPE html>
<html>
<head>
	<style type="text/css">
		li{
			font-size: 14px;
			list-style-type: none;
			line-height: 30px;
		}
		span{
			font-size: 12px;
			color: red;
		}
	</style>
<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
	$("#name").focus()
	$("input").focus(function(){
		$(this).css("background-color","lightskyblue")
})
	$("input").blur(function() {
        var value = $(this).val();
        value = $.trim(value);
        if (value == '') {
            $(this).focus()
            $(this.nextSibling).text("输入不能为空")
            return false;
        };
        $(this.nextSibling).text("")
    })
	$("#ps2").blur(function(){
		var ps1 = $("#ps1").val()
		var ps2 = $(this).val()
		if (ps1 != ps2) {
			$(this).focus()
			$(this.nextSibling).text("密码必须相同")
			return false
		}
		$(this.nextSibling).text("")
	})
	$("#email").blur(function(){
		var email = $(this).val()
		if(!email.match(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/)) {
			$("#email").focus();
			$(this.nextSibling).text("邮箱格式不正确")
			return false
		}
  		$(this.nextSibling).text("")
	})
	
	$("#province").change(function(){
		var cityList=new Array();  
        cityList['请选择']=["请选择"];
        cityList['浙江省']=["请选择","杭州","宁波","温州","绍兴","金华","湖州","嘉兴"];  
        cityList['江苏省']=["请选择","南京","苏州","徐州","无锡","常州","镇江"];  
        cityList['四川省']=["请选择","成都"];
        var city=document.forms[0].city;  
        city.options.length=0;
        var index=document.forms[0].province.value;  
        city.options.length=0;  
        for(var j in cityList[index]){  
            newOption=new Option(cityList[index][j],cityList[index][j]);  
            city.options.add(newOption);  
        } 
	})
	//题目要求：
  //1、一开始把焦点放在姓名输入框中；
  //2、输入框获得焦点时为蓝色发光的边框；
  //3、所有输入不能为空；
  //4、2个密码必须相同；
  //5、email必须符合邮件规则；
  //6、市县的选择项要根据省份的选择来做；
  //7、不符合上述条件的不能发送，哪里错就在哪个的后面的span里显示错误信息，病把焦点放在其输入框上。
  
  
  
  
});
</script>
</head>
<body>
<form id="target" action="do.asp">
  <ul>
  	<li>
  		姓名：<input type="text" id="name" name="name"  value="" /><span></span>
  	</li>
  	<li>
  		密码：<input type="password" id="ps1" name="ps1"  value="" /><span></span>
  	</li>
  	<li>
  		重复密码：<input type="password" id="ps2" name="ps2"  value="" /><span></span>
  	</li>
  	<li>
  		邮箱：<input type="email" id="email" name="email"  value="" /><span></span>
  	</li>
  	<form action="#" method="get"> 
  		出生地：省份：<select id="province" name="province">
    <option value="请选择" selected="selected">请选择</option>
    <option value="浙江省">浙江省</option>
    <option value="江苏省">江苏省</option>
    <option value="四川省">四川省</option>
  </select>
  市县：<select name="city">
    <option value="0" selected="selected">请选择</option>   
  </select>
  <span></span>
  	</form>
  	<li>
  		<input type="submit" value="提交" />
  	</li>
  </ul>
  
</form>
</html>